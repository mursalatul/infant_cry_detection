{% extends "base.html" %}

{% block title %}Infant Cry Detection{% endblock %}
{% load static %}
{% load tz %}
<!-- custom style start -->
{% block custom_styles %}
<style>
    /* Hero Section */
    .hero-section-custom {
        background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
        padding: 7rem 0;
        color: white;
        position: relative;
        overflow: hidden;
    }

    .hero-section-custom:before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: url('https://images.unsplash.com/photo-1530036854756-6d62f762f1b4?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80') center/cover;
        opacity: 0.1;
    }

    .hero-section-custom .display-4 {
        font-weight: 700;
        margin-bottom: 1.5rem;
        text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.2);
    }

    .hero-section-custom .lead {
        font-size: 1.5rem;
        margin-bottom: 2rem;
        font-weight: 300;
    }

    .hero-section-custom .btn {
        padding: 0.8rem 2rem;
        font-weight: 600;
        border-radius: 50px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        transition: all 0.3s ease;
    }

    .hero-section-custom .btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
    }

    /* Feature Cards */
    .feature-card {
        transition: all 0.3s ease;
        border-radius: 10px;
        overflow: hidden;
        border: none;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        height: 100%;
    }

    .feature-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
    }

    .feature-card .card-body {
        padding: 2rem;
    }

    .feature-card i {
        color: var(--primary-color);
        margin-bottom: 1.5rem;
    }

    .feature-card h5 {
        font-weight: 600;
        margin-bottom: 1rem;
    }

    /* Section Headings */
    .section-heading {
        position: relative;
        margin-bottom: 3rem;
    }

    .section-heading:after {
        content: '';
        position: absolute;
        width: 60px;
        height: 4px;
        background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
        bottom: -15px;
        left: 50%;
        transform: translateX(-50%);
        border-radius: 2px;
    }

    /* How It Works Section */
    #how-it-works {
        background-color: #f8f9fa;
        padding: 5rem 0;
    }

    #how-it-works .section-heading {
        position: relative;
        margin-bottom: 3rem;
    }

    #how-it-works .section-heading:after {
        content: '';
        position: absolute;
        width: 60px;
        height: 4px;
        background: linear-gradient(to right, #3a7bd5, #00d2ff);
        bottom: -15px;
        left: 50%;
        transform: translateX(-50%);
        border-radius: 2px;
    }

    #how-it-works .card {
        border: none;
        background-color: white;
        border-radius: 10px;
        transition: all 0.3s ease;
        height: 100%;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        padding: 2rem 1rem;
        text-align: center;
    }

    #how-it-works .card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
    }

    #how-it-works .card i {
        font-size: 2.5rem;
        margin-bottom: 1.5rem;
        display: block;
        color: #3a7bd5;
    }

    #how-it-works .card h5 {
        font-weight: 600;
        margin-bottom: 1rem;
        color: #2c3e50;
    }

    #how-it-works .card p {
        color: #7f8c8d;
        font-size: 0.95rem;
        line-height: 1.6;
    }

    /* Privacy Section */
    #privacy {
        background-color: var(--light-color);
    }

    /* CTA Section */
    #cta {
        background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
        padding: 5rem 0;
        color: white;
    }

    #cta .btn {
        padding: 0.8rem 2.5rem;
        font-weight: 600;
        border-radius: 50px;
        margin-top: 1rem;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        transition: all 0.3s ease;
    }

    #cta .btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        background-color: white;
        color: var(--primary-color);
    }

    /* Responsive adjustments */
    @media (max-width: 768px) {
        .hero-section-custom {
            padding: 4rem 0;
        }

        .hero-section-custom .display-4 {
            font-size: 2.5rem;
        }

        .hero-section-custom .lead {
            font-size: 1.2rem;
        }
    }
</style>
{% endblock %}
<!-- custom style end -->

{% block content %}
<section class="d-flex align-items-center hero-section-custom">
    <div class="container text-center position-relative">
        <h1 class="display-4 fw-bold">
            Ensuring Your Baby's Safety, By Predicting Cry Cause
        </h1>
        <p class="lead">
            Advanced Machine Learning for Infant Care
        </p>
        <a href="{% url 'cry_detection_view' %}" class="btn btn-light btn-lg">
            Discover How It Works
        </a>
    </div>
</section>

<section id="features" class="py-5">
    <div class="container">
        <div class="row text-center mb-5">
            <div class="col">
                <h2 class="fw-bold section-heading">Key Features</h2>
                <p class="text-muted">Discover what makes our Infant Cry Detection system stand out</p>
            </div>
        </div>
        <div class="row g-4">
            <div class="col-md-4">
                <div class="card feature-card">
                    <div class="card-body text-center">
                        <i class="bi bi-check-circle-fill display-4 mb-3"></i>
                        <h5 class="card-title">High Accuracy</h5>
                        <p class="card-text">Predicts the probable cause of a cry with <strong>98% accuracy</strong>
                            using our advanced SVM model.</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card feature-card">
                    <div class="card-body text-center">
                        <i class="bi bi-music-note-beamed display-4 mb-3"></i>
                        <h5 class="card-title">Multi-Format Support</h5>
                        <p class="card-text">Handles various audio formats such as <strong>MP3, WAV, AAC,
                                OGG</strong>, and more.</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card feature-card">
                    <div class="card-body text-center">
                        <i class="bi bi-phone display-4 mb-3"></i>
                        <h5 class="card-title">Cross-Platform</h5>
                        <p class="card-text">Accessible on any platform, whether you use <strong>iOS, Android,
                                Windows, or Mac</strong>.</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card feature-card">
                    <div class="card-body text-center">
                        <i class="bi bi-speedometer2 display-4 mb-3"></i>
                        <h5 class="card-title">Real-Time Analysis</h5>
                        <p class="card-text">Processes your audio instantly, delivering fast and reliable
                            predictions.</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card feature-card">
                    <div class="card-body text-center">
                        <i class="bi bi-display-fill display-4 mb-3"></i>
                        <h5 class="card-title">User-Friendly Interface</h5>
                        <p class="card-text">Designed for easy navigation, ensuring caregivers can use the system
                            effortlessly.</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card feature-card">
                    <div class="card-body text-center">
                        <i class="bi bi-bell-fill display-4 mb-3"></i>
                        <h5 class="card-title">Custom Alerts</h5>
                        <p class="card-text">Receive personalized notifications to help you take timely action for
                            your baby's care.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section id="how-it-works" class="py-5">
    <div class="container">
        <div class="row text-center mb-5">
            <div class="col">
                <h2 class="fw-bold section-heading">How Our ML Model Works</h2>
                <p class="text-muted">
                    Our state-of-the-art SVM model analyzes your baby's cry in real time with 98% accuracy.
                </p>
            </div>
        </div>
        <div class="row g-4">
            <!-- Step 1 -->
            <div class="col-md-3">
                <div class="card h-100">
                    <div class="card-body">
                        <i class="bi bi-mic-fill"></i>
                        <h5>Capture</h5>
                        <p>Record your baby's cry using any audio device or our mobile app.</p>
                    </div>
                </div>
            </div>

            <!-- Step 2 -->
            <div class="col-md-3">
                <div class="card h-100">
                    <div class="card-body">
                        <i class="bi bi-sliders"></i>
                        <h5>Analyze</h5>
                        <p>Our system extracts 13 crucial audio features from the recording.</p>
                    </div>
                </div>
            </div>

            <!-- Step 3 -->
            <div class="col-md-3">
                <div class="card h-100">
                    <div class="card-body">
                        <i class="bi bi-bar-chart-line-fill"></i>
                        <h5>Predict</h5>
                        <p>The SVM model classifies the cry into hunger, discomfort, pain, etc.</p>
                    </div>
                </div>
            </div>

            <!-- Step 4 -->
            <div class="col-md-3">
                <div class="card h-100">
                    <div class="card-body">
                        <i class="bi bi-check-circle-fill"></i>
                        <h5>Results</h5>
                        <p>Get accurate predictions with suggested care instructions.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section id="privacy" class="py-5">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-8 text-center">
                <h2 class="fw-bold section-heading">Our Commitment to Your Privacy</h2>
                <p class="mt-4 lead">
                    Your trust is our priority. We only analyze your audio files to detect cry patterns, and we
                    never store or share any personal data. We respect your privacy. The audio file is analyzed for the
                    sole purpose of detecting cry
                    patterns and is not stored on our servers.
                </p>

            </div>
        </div>
    </div>
</section>

<!-- parents counter starts -->
<section id="trust-counter" class="py-5">
    <div class="container text-center">
        <h2 class="fw-bold mb-4 section-heading">A Growing Trust</h2>
        <p class="lead mb-4">Number of times parents trusted us</p>
        <h1 id="trust-count" class="display-4 fw-bold text-primary">0</h1>
        <p class="lead">Our Infant Cry Detection service has been trusted by parents multiple times to better understand their baby’s needs.</p>
    </div>
</section>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        // Target count number - replace with your actual number
        const target = parseInt('{{ trust_count|default:0 }}');
        // The DOM element where the count will be displayed
        const countElement = document.getElementById('trust-count');

        // Initial count
        let count = 0;

        // Animation speed (lower is faster)
        const speed = 50;

        /**
         * Function to increment the count smoothly until it reaches the target
         */
        function updateCount() {
            // Calculate increment step
            const increment = Math.ceil(target / 100);

            // Increase the count
            count += increment;

            // Ensure we don't go past the target
            if (count > target) {
                count = target;
            }

            // Display the current count with commas
            countElement.innerText = count.toLocaleString();

            // Continue incrementing until target is reached
            if (count < target) {
                setTimeout(updateCount, speed);
            }
        }

        /**
         * Intersection Observer to detect when the counter section enters the viewport
         */
        const observer = new IntersectionObserver(function (entries, observer) {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    // Section is now visible! Start counting.
                    updateCount();

                    // Stop observing since we only want this to run once
                    observer.unobserve(entry.target);
                }
            });
        }, {
            // Trigger when 50% of the section is visible
            threshold: 0.5
        });

        // Get the section element to observe
        const counterSection = document.getElementById('trust-counter');

        // Start observing the section
        observer.observe(counterSection);
    });
</script>
<!-- parents counter ends -->

<!-- some common question section start-->
<section id="faq-section" class="py-5">
    <div class="container">
        <h2 class="fw-bold mb-4 section-heading text-center">Frequently Asked Questions</h2>
        <div id="faq-container" class="accordion" role="tablist">
            {% for faq in faq_data %}
            <div class="accordion-item mb-3">
                <h3 class="accordion-header" id="faq-header-{{ forloop.counter }}">
                    <button
                        class="accordion-button collapsed"
                        type="button"
                        data-bs-toggle="collapse"
                        data-bs-target="#faq-collapse-{{ forloop.counter }}"
                        aria-expanded="false"
                        aria-controls="faq-collapse-{{ forloop.counter }}">
                        {{ faq.question }}
                    </button>
                </h3>
                <div
                    id="faq-collapse-{{ forloop.counter }}"
                    class="accordion-collapse collapse"
                    aria-labelledby="faq-header-{{ forloop.counter }}"
                    data-bs-parent="#faq-container">
                    <div class="accordion-body">
                        {{ faq.answer }}
                    </div>
                </div>
            </div>
            {% empty %}
            <p class="text-center text-muted">No FAQs available at the moment.</p>
            {% endfor %}
        </div>
    </div>
</section>


<!-- some common question section end-->
{% endblock %}